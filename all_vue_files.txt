================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\App.vue
================================================================================
<template>
  <router-view />
</template>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\AdminForm.vue
================================================================================
<template>
  <div>
    <h4>æ–°å¢ç®¡ç†å“¡</h4>
    <img src="aroma/img/login.jpg" alt="admin" class="img-thumbnail mb-2" style="width: 150px;">
    <form @submit.prevent="addAdmin">
      <div class="form-group">
        <label>å¸³è™Ÿ</label>
        <input v-model="newAdmin.username" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label>å¯†ç¢¼</label>
        <input v-model="newAdmin.password" type="password" class="form-control">
      </div>
      <div class="form-group">
        <label>æ¬Šé™</label>
        <select v-model="newAdmin.role" class="form-control">
          <option>ä¸€èˆ¬ç®¡ç†å“¡</option>
          <option>è¶…ç´šç®¡ç†å“¡</option>
        </select>
      </div>
      <button type="submit" class="btn btn-success">æ–°å¢</button>
    </form>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const newAdmin = ref({ username: '', password: '', role: 'ä¸€èˆ¬ç®¡ç†å“¡' })

function addAdmin() {
  alert(`æ–°å¢ç®¡ç†å“¡ï¼š${newAdmin.value.username}`)
}
</script>

================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\HelloWorld.vue
================================================================================
<template>
  <div class="hello">
    <h1>{{ msg }}</h1>
    <p>
      For a guide and recipes on how to configure / customize this project,<br>
      check out the
      <a href="https://cli.vuejs.org" target="_blank" rel="noopener">vue-cli documentation</a>.
    </p>
    <h3>Installed CLI Plugins</h3>
    <ul>
      <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener">babel</a></li>
      <li><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" target="_blank" rel="noopener">router</a></li>
    </ul>
    <h3>Essential Links</h3>
    <ul>
      <li><a href="https://vuejs.org" target="_blank" rel="noopener">Core Docs</a></li>
      <li><a href="https://forum.vuejs.org" target="_blank" rel="noopener">Forum</a></li>
      <li><a href="https://chat.vuejs.org" target="_blank" rel="noopener">Community Chat</a></li>
      <li><a href="https://twitter.com/vuejs" target="_blank" rel="noopener">Twitter</a></li>
      <li><a href="https://news.vuejs.org" target="_blank" rel="noopener">News</a></li>
    </ul>
    <h3>Ecosystem</h3>
    <ul>
      <li><a href="https://router.vuejs.org" target="_blank" rel="noopener">vue-router</a></li>
      <li><a href="https://vuex.vuejs.org" target="_blank" rel="noopener">vuex</a></li>
      <li><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener">vue-devtools</a></li>
      <li><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener">vue-loader</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener">awesome-vue</a></li>
    </ul>
  </div>
</template>

<script>
export default {
  name: 'HelloWorld',
  props: {
    msg: String
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h3 {
  margin: 40px 0 0;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
</style>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\LoginForm.vue
================================================================================
<template>
  <form @submit.prevent="handleLogin" class="w-full max-w-sm mx-auto bg-white p-6 rounded-xl shadow space-y-4">

    <header class="header_area">
      <div class="main_menu">
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container">
            <a class="navbar-brand logo_h"><router-link to="/"><img src="/aroma/img/logo.png" alt=""></router-link></a>
            <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
              <ul class="nav navbar-nav menu_nav ml-auto mr-auto">
                <h4 class="container mt-2">ç™»å…¥</h4>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    

    <div>
      <label class="block text-sm font-medium">é›»å­éƒµä»¶</label>
      <input
        type="email"
        v-model="email"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">å¯†ç¢¼</label>
      <input
        type="password"
        v-model="password"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div v-if="errorMessage" class="text-red-500 text-sm">{{ errorMessage }}</div>

    <button type="submit" class="nav-item">ç™»å…¥</button>

    <p class="text-sm text-gray-500"><router-link to="/member/reset-password">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</router-link></p>

    <p class="text-center text-sm text-gray-500">
      é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ
      <router-link to="/register" class="text-blue-500 hover:underline">å‰å¾€è¨»å†Š</router-link>
    </p>
    <p class="text-center text-sm text-gray-500">
      <router-link to="/" class="text-blue-500 hover:underline">å›é¦–é </router-link>
    </p>
    
    <footer class="footer mt-5">
      <div class="footer-area">
        <div class="container">
          <p class="text-center pt-5">Â© 2025 Aroma Shop. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </form>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const email = ref('')
const password = ref('')
const errorMessage = ref('')
const router = useRouter()

const handleLogin = async () => {
  if (!email.value || !password.value) {
    errorMessage.value = 'è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½'
    return
  }

  try {
    const res = await fetch('http://localhost:3000/api/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email.value, password: password.value })
    })
    const data = await res.json()
    console.log('ç™»å…¥å›å‚³è³‡æ–™ï¼š', data)
    if (!res.ok) throw new Error(data.message || 'ç™»å…¥å¤±æ•—')

    // å„²å­˜ç™»å…¥ç‹€æ…‹ (ç¯„ä¾‹ï¼šlocalStorage + Pinia å¯æ“´å……)
    localStorage.setItem('token', data.token)
    localStorage.setItem('manager', data.manager) // ğŸ‘ˆ åŠ ä¸Šé€™è¡Œï¼Œæ‰èƒ½è·³å¾€/manager
    //åŠ å…¥è·³è½‰ç®¡ç†è€…é é¢
    if (data.manager === true) {
      router.push('/manager') 
    } else {
      router.push('/member/profile')
    }

  } catch (err) {
    errorMessage.value = err.message
  }
}
</script>



================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\MemberOrdersTable.vue
================================================================================
<template>
  <div>
    <h4>æœƒå“¡è³‡æ–™èˆ‡è¨‚å–®</h4>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>æœƒå“¡ID</th>
          <th>å§“å</th>
          <th>Email</th>
          <th>è¨»å†Šæ™‚é–“</th>
          <th>é ­åƒ</th>
          <th>è¨‚å–®</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="user in users" :key="user.id">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.registered }}</td>
          <td><img src="aroma/img/r1.jpg" alt="avatar" style="height: 50px;"></td>
          <td>
            <table class="table">
              <thead>
                <tr>
                  <th>è¨‚å–®ç·¨è™Ÿ</th>
                  <th>é‡‘é¡</th>
                  <th>ç‹€æ…‹</th>
                  <th>åœ–ç‰‡</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="order in user.orders" :key="order.id">
                  <td>{{ order.id }}</td>
                  <td>{{ order.amount }}</td>
                  <td>{{ order.status }}</td>
                  <td><img src="aroma/img/r3.jpg" alt="product" style="height: 50px;"></td>
                </tr>
                <tr v-if="user.orders.length === 0">
                  <td colspan="4">ç„¡è¨‚å–®</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const users = ref([
  {
    id: 1,
    name: 'ç‹å°æ˜',
    email: 'ming@example.com',
    registered: '2025-07-01',
    orders: [
      { id: '#1001', amount: '$500', status: 'å·²å‡ºè²¨' },
      { id: '#1002', amount: '$300', status: 'è™•ç†ä¸­' }
    ]
  },
  {
    id: 2,
    name: 'æ—å°ç¾',
    email: 'mei@example.com',
    registered: '2025-07-05',
    orders: []
  }
])
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\MemberTable.vue
================================================================================
<template>
  <div>
    <h4>æœƒå“¡è³‡æ–™</h4>
    <table class="table table-bordered">
      <thead>
        <tr><th>ID</th><th>å§“å</th><th>Email</th><th>è¨»å†Šæ™‚é–“</th><th>é ­åƒ</th></tr>
      </thead>
      <tbody>
        <tr v-for="user in users" :key="user.id">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.registered }}</td>
          <td><img src="aroma/img/r1.jpg" alt="avatar" style="height: 50px;"></td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const users = ref([
  { id: 1, name: 'ç‹å°æ˜', email: 'ming@example.com', registered: '2025-07-01' }
])
</script>

================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\OrderTable.vue
================================================================================
<template>
  <div>
    <h4>æ‰€æœ‰è¨‚å–®</h4>
    <table class="table table-bordered">
      <thead>
        <tr><th>è¨‚å–®ç·¨è™Ÿ</th><th>æœƒå“¡</th><th>é‡‘é¡</th><th>ç‹€æ…‹</th><th>åœ–ç‰‡</th></tr>
      </thead>
      <tbody>
        <tr v-for="order in orders" :key="order.id">
          <td>{{ order.id }}</td>
          <td>{{ order.user }}</td>
          <td>{{ order.amount }}</td>
          <td>{{ order.status }}</td>
          <td><img src="aroma/img/r3.jpg" alt="product" style="height: 50px;"></td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const orders = ref([
  { id: '#1001', user: 'ç‹å°æ˜', amount: '$500', status: 'å·²å‡ºè²¨' }
])
</script>

================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\ProductForm.vue
================================================================================
<template>
  <div>
    <h4>å•†å“ä¸Šæ¶</h4>
    <img src="aroma/img/r2.jpg" alt="preview" class="img-thumbnail mb-2" style="width: 150px;">
    <form @submit.prevent="addProduct">
      <div class="form-group">
        <label>å•†å“åç¨±</label>
        <input v-model="newProduct.name" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label>åˆ†é¡</label>
        <input v-model="newProduct.category" type="text" class="form-control">
      </div>
      <div class="form-group">
        <label>åƒ¹æ ¼</label>
        <input v-model="newProduct.price" type="number" class="form-control">
      </div>
      <div class="form-group">
        <label>ä¸Šå‚³åœ–ç‰‡</label>
        <input type="file" class="form-control-file">
      </div>
      <button type="submit" class="btn btn-primary">é€å‡º</button>
    </form>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const newProduct = ref({ name: '', category: '', price: 0 })

function addProduct() {
  alert(`å·²ä¸Šæ¶å•†å“ï¼š${newProduct.value.name}`)
}
</script>

================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\ProductInventory.vue
================================================================================
<template>
  <div>
    <h4>å•†å“åº«å­˜æŸ¥è©¢</h4>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>å•†å“ç·¨è™Ÿ</th>
          <th>åç¨±</th>
          <th>åˆ†é¡</th>
          <th>åº«å­˜</th>
          <th>åƒ¹æ ¼</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="product in products" :key="product.id">
          <td>{{ product.id }}</td>
          <td>{{ product.name }}</td>
          <td>{{ product.category }}</td>
          <td>{{ product.stock }}</td>
          <td>{{ product.price }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const products = ref([
  { id: 'P1001', name: 'iPhone 15', category: 'æ‰‹æ©Ÿ', stock: 12, price: 34900 },
  { id: 'P1002', name: 'MacBook Pro', category: 'ç­†é›»', stock: 7, price: 59900 }
])
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\RegisterForm.vue
================================================================================
<template>
  <form @submit.prevent="handleRegister" class="w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4">
    <header class="header_area">
      <div class="main_menu">
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container">
            <a class="navbar-brand logo_h"><router-link to="/"><img src="/aroma/img/logo.png" alt=""></router-link></a>
            <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
              <ul class="nav navbar-nav menu_nav ml-auto mr-auto">
                <h4 class="container mt-2">è¨»å†Š</h4>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <div>
      <label class="block text-sm font-medium">å§“å</label>
      <input
        v-model="name"
        type="text"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">é›»å­éƒµä»¶</label>
      <input
        v-model="email"
        type="email"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">å¯†ç¢¼</label>
      <input
        v-model="password"
        type="password"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">ç¢ºèªå¯†ç¢¼</label>
      <input
        v-model="confirmPassword"
        type="password"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div v-if="errorMessage" class="text-red-500 text-sm">{{ errorMessage }}</div>

    <button
      type="submit"
      class="nav-item"
    >
      è¨»å†Š
    </button>

    <p class="text-center text-sm text-gray-500">
      å·²æœ‰å¸³è™Ÿï¼Ÿ
      <router-link to="/login" class="text-blue-500 hover:underline">å‰å¾€ç™»å…¥</router-link>
    </p>
    <p class="text-center text-sm text-gray-500">
      <router-link to="/" class="text-blue-500 hover:underline">å›é¦–é </router-link>
    </p>

    <footer class="footer mt-5">
      <div class="footer-area">
        <div class="container">
          <p class="text-center pt-5">Â© 2025 Aroma Shop. All rights reserved.</p>
        </div>
      </div>
    </footer>

  </form>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const name = ref('')
const email = ref('')
const password = ref('')
const confirmPassword = ref('')
const errorMessage = ref('')
const router = useRouter()

const handleRegister = async () => {
  if (!name.value || !email.value || !password.value || !confirmPassword.value) {
    errorMessage.value = 'è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½'
    return
  }

  if (password.value !== confirmPassword.value) {
    errorMessage.value = 'å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸ç›¸ç¬¦'
    return
  }

  try {
    const res = await fetch('http://localhost:3000/api/register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        name: name.value,
        email: email.value,
        password: password.value
      })
    })
    const data = await res.json()

    if (!res.ok) throw new Error(data.message || 'è¨»å†Šå¤±æ•—')

    // è¨»å†ŠæˆåŠŸå¾Œå°å‘ç™»å…¥
    router.push('/login')
  } catch (err) {
    errorMessage.value = err.message
  }
}
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\components\ResetPasswordForm.vue
================================================================================
<template>
  <form @submit.prevent="handleSubmit" class="w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4">
    <header class="header_area">
      <div class="main_menu">
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container">
            <a class="navbar-brand logo_h"><router-link to="/"><img src="/aroma/img/logo.png" alt=""></router-link></a>
            <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
              <ul class="nav navbar-nav menu_nav ml-auto mr-auto">
                <h4 class="container mt-2">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</h4>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

  <div>
      <label class="block text-sm font-medium">é›»å­éƒµä»¶</label>
      <input
        type="email"
        v-model="email"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">æ–°å¯†ç¢¼</label>
      <input
        v-model="newPassword"
        type="password"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div>
      <label class="block text-sm font-medium">ç¢ºèªæ–°å¯†ç¢¼</label>
      <input
        v-model="confirmPassword"
        type="password"
        class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"
        required
      />
    </div>

    <div v-if="errorMessage" class="text-red-500 text-sm">{{ errorMessage }}</div>
    <div v-if="successMessage" class="text-green-600 text-sm">{{ successMessage }}</div>

    <button type="submit" class="nav-item">ç¢ºèªä¿®æ”¹</button>
    <p class="text-center text-sm text-gray-500">
      <router-link to="/" class="text-blue-500 hover:underline">å›é¦–é </router-link>
    </p>

    <footer class="footer mt-5">
      <div class="footer-area">
        <div class="container">
          <p class="text-center pt-5">Â© 2025 Aroma Shop. All rights reserved.</p>
        </div>
      </div>
    </footer>

  </form>
</template>

<script setup>
import { ref } from 'vue'

const oldPassword = ref('')
const newPassword = ref('')
const confirmPassword = ref('')

const errorMessage = ref('')
const successMessage = ref('')

const handleSubmit = async () => {
  errorMessage.value = ''
  successMessage.value = ''

  if (!oldPassword.value || !newPassword.value || !confirmPassword.value) {
    errorMessage.value = 'è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½'
    return
  }

  if (newPassword.value !== confirmPassword.value) {
    errorMessage.value = 'æ–°å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸ç›¸ç¬¦'
    return
  }

  try {
    const res = await fetch('http://localhost:3000/api/reset-password', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization: `Bearer ${localStorage.getItem('token')}`
      },
      body: JSON.stringify({
        oldPassword: oldPassword.value,
        newPassword: newPassword.value
      })
    })

    if (!res.ok) throw new Error('å¯†ç¢¼æ›´æ–°å¤±æ•—')

    successMessage.value = 'å¯†ç¢¼æ›´æ–°æˆåŠŸ'
    oldPassword.value = ''
    newPassword.value = ''
    confirmPassword.value = ''
  } catch (err) {
    errorMessage.value = err.message || 'ç™¼ç”ŸéŒ¯èª¤'
  }
}
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\AboutView.vue
================================================================================
<template>
  <div class="about">
    <h1>This is an about page</h1>
  </div>
</template>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\Cart.vue
================================================================================
<template>
  <div class="container mt-5">
    <h2>ğŸ›’ è³¼ç‰©è»Šæ¸…å–®</h2>

    <!-- è¡¨æ ¼ -->
    <table class="table table-bordered mt-4" v-if="cart.items.length > 0">
      <thead>
        <tr>
          <th>å•†å“åç¨±</th>
          <th>å–®åƒ¹</th>
          <th>æ•¸é‡</th>
          <th>ç¸½åƒ¹</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="item in cart.items" :key="item.id">
          <td>{{ item.name }}</td>
          <td>${{ item.price.toFixed(2) }}</td>
          <td>{{ item.quantity }}</td>
          <td>${{ (item.price * item.quantity).toFixed(2) }}</td>
          <td>
            <button class="btn btn-sm btn-success" @click="increase(item.id)">ï¼‹</button>
            <button class="btn btn-sm btn-warning mx-1" @click="decrease(item.id)">ï¼</button>
            <button class="btn btn-sm btn-danger" @click="cart.removeItem(item.id)">âŒ</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- æ²’æœ‰å•†å“æ™‚ -->
    <div v-else>
      <p>è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚</p>
    </div>

    <!-- ç¸½åƒ¹èˆ‡æ“ä½œæŒ‰éˆ• -->
    <div class="text-right mt-4" v-if="cart.items.length > 0">
      <h4>ç¸½é‡‘é¡ï¼š${{ cart.totalPrice.toFixed(2) }}</h4>
      <button class="btn btn-warning mt-3" @click="cart.clearCart()">æ¸…ç©ºè³¼ç‰©è»Š</button>

      <!-- âœ… åŠ å…¥çš„ã€Œå‰å¾€çµå¸³ã€æŒ‰éˆ• -->
      <router-link to="/checkout">
        <button class="btn btn-primary mt-3 ml-2">å‰å¾€çµå¸³</button>
      </router-link>
    </div>
  </div>
</template>

<script setup>
import { useCartStore } from '@/stores/cart'
const cart = useCartStore()
console.log('ğŸ›’ è³¼ç‰©è»Šé é¢è¼‰å…¥æ™‚çš„é …ç›®ï¼š', cart.items)

// å¢åŠ æ•¸é‡
function increase(id) {
  const item = cart.items.find(p => p.id === id)
  if (item) item.quantity++
}

// æ¸›å°‘æ•¸é‡ï¼ˆæœ€å°ç‚º 1ï¼‰
function decrease(id) {
  const item = cart.items.find(p => p.id === id)
  if (item && item.quantity > 1) {
    item.quantity--
  }
}
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\Checkout.vue
================================================================================
<template>
  <div class="container mt-5">
    <h2>ğŸ“ çµå¸³è¡¨å–®</h2>

    <form @submit.prevent="submitOrder">
      <div class="form-group">
        <label>å§“å</label>
        <input v-model="form.name" type="text" class="form-control" required>
      </div>
      <div class="form-group">
        <label>åœ°å€</label>
        <input v-model="form.address" type="text" class="form-control" required>
      </div>
      <div class="form-group">
        <label>é›»è©±</label>
        <input v-model="form.phone" type="text" class="form-control" required>
      </div>
      <div class="form-group">
        <label>å‚™è¨»</label>
        <textarea v-model="form.note" class="form-control"></textarea>
      </div>

      <button class="btn btn-success mt-3" type="submit">é€å‡ºè¨‚å–®</button>
    </form>
  </div>
</template>

<script setup>
import { reactive } from 'vue'
import { useCartStore } from '@/stores/cart'
import axios from 'axios'

const cart = useCartStore()

const form = reactive({
  name: '',
  address: '',
  phone: '',
  note: ''
})

async function submitOrder() {
  try {
    const payload = {
      ...form,
      items: cart.items
    }

    const res = await axios.post('http://localhost:3000/api/orders', payload)
    console.log('âœ… è¨‚å–®é€å‡ºæˆåŠŸ', res.data)

    alert('âœ… è¨‚å–®å·²é€å‡ºï¼')
    cart.clearCart()
  } catch (err) {
    console.error('âŒ è¨‚å–®é€å‡ºå¤±æ•—', err)
    alert('âŒ è¨‚å–®é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦')
  }
}
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\Home.vue
================================================================================
<template>
  <div>
    <!-- Header å€å¡Š -->
    <header class="header_area">
      <div class="main_menu">
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container">
            <a class="navbar-brand logo_h" href="#"><img src="/aroma/img/logo.png" alt=""></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
              <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
            </button>
            <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
              <ul class="nav navbar-nav menu_nav ml-auto mr-auto">
                <li class="nav-item active"><a class="nav-link" href="#">Home</a></li>
              </ul>
              <ul class="nav-shop">
                <li class="nav-item"><button><i class="ti-search"></i></button></li>
                <li class="nav-item">
                  <button @click="showCart = !showCart">
                    <i class="ti-shopping-cart"></i>
                    <span class="nav-shop__circle">{{ cart.items.length }}</span>
                  </button>
                </li>
                <li class="nav-item"><a class="button button-header" href="#">Buy Now</a></li>
              </ul>
              <ul class="nav navbar-nav menu_nav">
                <li class="nav-item active">
                  <router-link to="/login" class="nav-link">ç™»å…¥&nbsp;</router-link>
                </li>
              </ul>
              <ul>/</ul>
              <ul class="nav navbar-nav menu_nav">
                <li class="nav-item active">
                  <router-link to="/register" class="nav-link">&nbsp;è¨»å†Š</router-link>
                </li>
              </ul>
              <!-- å¦‚æœå·²ç™»å…¥ -->
              <!-- <ul class="nav navbar-nav menu_nav" v-if="auth.isLoggedIn">
                <li class="nav-item">
                  <span class="nav-link">æ‚¨å¥½ï¼Œ{{ auth.user.name }}</span>
                </li>
                <li class="nav-item">
                  <router-link to="/profile" class="nav-link">æœƒå“¡ä¸­å¿ƒ</router-link>
                </li>
                <li class="nav-item">
                  <button class="nav-link" @click="auth.logout">ç™»å‡º</button>
                </li>
              </ul> -->
              
              <!-- å¦‚æœæœªç™»å…¥ -->
              <!-- <ul class="nav navbar-nav menu_nav" v-else>
                <li class="nav-item">
                  <router-link to="/login" class="nav-link">ç™»å…¥</router-link>
                </li>
                <li class="nav-item">
                  <router-link to="/register" class="nav-link">è¨»å†Š</router-link>
                </li>
              </ul> -->
            </div>
          </div>
        </nav>
      </div>
    </header>

    <!-- Hero å€å¡Š -->
    <section class="hero-banner">
      <div class="container">
        <div class="row no-gutters align-items-center pt-60px">
          <div class="col-5 d-none d-sm-block">
            <div class="hero-banner__img">
              <img class="img-fluid" src="/aroma/img/home/hero-banner.png" alt="">
            </div>
          </div>
          <div class="col-sm-7 col-lg-6 offset-lg-1 pl-4 pl-md-5 pl-lg-0">
            <div class="hero-banner__content">
              <h4>Shop is fun</h4>
              <h1>Browse Our Premium Product</h1>
              <p>Us which over of signs divide dominion deep fill bring...</p>
              <a class="button button-hero" href="#">Browse Now</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Trending Products å€å¡Š -->
    <section class="section-margin calc-60px">
      <div class="container">
        <div class="section-intro pb-60px">
          <p>Popular Item in the market</p>
          <h2>Trending <span class="section-intro__style">Product</span></h2>
        </div>
        <div class="row">
          <div v-for="product in products" :key="product.id" class="col-md-6 col-lg-4 col-xl-3">
            <div class="card text-center card-product">
              <div class="card-product__img">
                <img class="card-img" :src="product.image" :alt="product.name" />
                <ul class="card-product__imgOverlay">
                  <li><button><i class="ti-search"></i></button></li>
                  <li><button><i class="ti-shopping-cart"></i></button></li>
                  <li><button><i class="ti-heart"></i></button></li>
                </ul>
              </div>
              <div class="card-body">
                <p>{{ product.category }}</p>
                <h4 class="card-product__title"><a href="#">{{ product.name }}</a></h4>
                <p class="card-product__price">${{ product.price }}</p>
                <button class="btn btn-sm btn-primary mt-2" @click="addToCart(product)">
                  ğŸ›’ åŠ å…¥è³¼ç‰©è»Š
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- âœ… å½ˆå‡ºè³¼ç‰©è»Šè¦–çª— -->
    <div class="cart-popup" v-if="showCart">
      <div class="cart-popup-inner">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5>ğŸ›’ è³¼ç‰©è»Š</h5>
          <router-link to="/cart" class="btn btn-sm btn-info">ç®¡ç†è³¼ç‰©è»Š</router-link>
        </div>

        <ul>
          <li v-for="item in cart.items" :key="item.id" class="cart-item">
            <img :src="item.image" alt="å•†å“åœ–ç‰‡" class="cart-item-image" />
            <div class="cart-item-info">
              <p class="mb-1">{{ item.name }} Ã— {{ item.quantity }}</p>
              <p class="mb-0 text-muted">${{ (item.price * item.quantity).toFixed(2) }}</p>
            </div>
          </li>
        </ul>

        <p class="mt-2"><strong>ç¸½é‡‘é¡ï¼š</strong> ${{ cart.totalPrice.toFixed(2) }}</p>

        <div class="d-flex justify-content-between mt-3">
          <button class="btn btn-sm btn-secondary" @click="showCart = false">é—œé–‰</button>
          <router-link to="/checkout" class="btn btn-sm btn-success">å‰å¾€çµå¸³</router-link>
        </div>
      </div>
    </div>

    <!-- Footer å€å¡Š -->
    <footer class="footer mt-5">
      <div class="footer-area">
        <div class="container">
          <p class="text-center pt-5">Â© 2025 Aroma Shop. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useCartStore } from '@/stores/cart'

const cart = useCartStore()
const showCart = ref(false)

const products = [
  {
    id: 1,
    name: 'Quartz Belt Watch',
    price: 150,
    category: 'Accessories',
    image: '/aroma/img/product/product1.png'
  },
  {
    id: 2,
    name: 'Women Freshwash',
    price: 120,
    category: 'Beauty',
    image: '/aroma/img/product/product2.png'
  },
  {
    id: 3,
    name: 'Room Flash Light',
    price: 90,
    category: 'Decor',
    image: '/aroma/img/product/product3.png'
  },
  {
    id: 4,
    name: 'Room Flash Light',
    price: 90,
    category: 'Decor',
    image: '/aroma/img/product/product4.png'
  },
  {
    id: 5,
    name: 'Man Office Bag',
    price: 180,
    category: 'Accessories',
    image: '/aroma/img/product/product5.png'
  },
  {
    id: 6,
    name: 'Charging Car',
    price: 200,
    category: 'Kids Toy',
    image: '/aroma/img/product/product6.png'
  },
  {
    id: 7,
    name: 'Blutooth Speaker',
    price: 100,
    category: 'Accessories',
    image: '/aroma/img/product/product7.png'
  },
  {
    id: 8,
    name: 'Charging Car',
    price: 200,
    category: 'Kids Toy',
    image: '/aroma/img/product/product8.png'
  }
]

function addToCart(product) {
  cart.addItem({ ...product, quantity: 1 })
  showCart.value = true
}
</script>

<style scoped>
.cart-popup {
  position: fixed;
  top: 90px;
  right: 20px;
  width: 320px;
  background: #fff;
  border: 1px solid #ddd;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.15);
  padding: 15px;
  z-index: 1000;
  border-radius: 8px;
}
.cart-popup-inner {
  font-size: 14px;
}
.cart-popup-inner ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.cart-item {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid #eee;
}
.cart-item-image {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 4px;
}
.cart-item-info {
  flex: 1;
}
</style>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\HomeView.vue
================================================================================
<template>
  <div class="home">
    <img alt="Vue logo" src="../assets/logo.png">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>

<script>
// @ is an alias to /src
import HelloWorld from '@/components/HelloWorld.vue'

export default {
  name: 'HomeView',
  components: {
    HelloWorld
  }
}
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\LoginPage.vue
================================================================================
<template>
  <div class="min-h-screen flex items-center justify-center bg-gray-100">
    <LoginForm />
  </div>
</template>

<script setup>
import LoginForm from '@/components/LoginForm.vue'
// import { useAuthStore } from '@/stores/auth'

// const auth = useAuthStore()

// // ç™»å…¥
// auth.login({ name: 'ç‹å°æ˜', email: 'test@example.com' })

// // é¡¯ç¤ºåç¨±
// console.log(auth.user.name)  // ç‹å°æ˜

// // ç™»å‡º
// auth.logout()
</script>

<!-- src/views/LoginPage.vue -->
<!-- <template>
  <div class="login-page">
    <h2>æœƒå“¡ç™»å…¥</h2>
    <form @submit.prevent="handleLogin">
      <input v-model="email" type="email" placeholder="Email" required />
      <input v-model="password" type="password" placeholder="å¯†ç¢¼" required />
      <button type="submit">ç™»å…¥</button>
    </form>
    <p v-if="errorMessage" class="error">{{ errorMessage }}</p>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { useAuthStore } from '@/stores/auth' // âœ… æ³¨æ„è·¯å¾‘æ˜¯å¦æ­£ç¢º

const email = ref('')
const password = ref('')
const errorMessage = ref('')
const router = useRouter()

const authStore = useAuthStore() // âœ… å‘¼å« store

const handleLogin = async () => {
  try {
    // æ¨¡æ“¬å¾Œç«¯é©—è­‰ï¼ˆå¯æ›æˆ fetch å¯¦ä½œï¼‰
    if (email.value === 'test@example.com' && password.value === '123456') {
      const fakeUser = { email: email.value, name: 'æ¸¬è©¦ç”¨æˆ¶' }
      authStore.login(fakeUser)
      router.push('/profile') // ç™»å…¥æˆåŠŸå¾Œå°å‘æœƒå“¡é 
    } else {
      errorMessage.value = 'å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤'
    }
  } catch (err) {
    errorMessage.value = 'ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦'
  }
}
</script>

<style scoped>
.login-page {
  max-width: 400px;
  margin: 40px auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
input {
  padding: 10px;
  font-size: 1rem;
}
button {
  padding: 10px;
  background-color: #42b983;
  color: white;
  border: none;
  cursor: pointer;
}
.error {
  color: red;
}
</style> -->


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\ManagerPage.vue
================================================================================
<template>
  <header class="header_area">
    <div class="main_menu">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
          <a class="navbar-brand logo_h"><router-link to="/"><img src="/aroma/img/logo.png" alt=""></router-link></a>
          <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
            <ul class="nav navbar-nav menu_nav ml-auto mr-auto">
              <h4 class="container mt-2">ç™»å…¥</h4>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <div class="admin-container">
    <h2>å¾Œå°ç®¡ç†ç³»çµ±</h2>
    <ul class="nav nav-tabs">
      <li class="nav-item" v-for="tab in tabs" :key="tab.id">
        <a class="nav-link" :class="{ active: currentTab === tab.id }" href="#" @click.prevent="currentTab = tab.id">
          {{ tab.label }}
        </a>
      </li>
    </ul>

    <component :is="currentTabComponent" />
  </div>

  <footer class="footer mt-5">
    <div class="footer-area">
      <div class="container">
        <p class="text-center pt-5">Â© 2025 Aroma Shop. All rights reserved.</p>
      </div>
    </div>
  </footer>
</template>

<script setup>
import { ref, computed } from 'vue'

import MemberOrdersTable from '@/components/MemberOrdersTable.vue'
import ProductInventory from '@/components/ProductInventory.vue' // âœ… æ–°å¢å…ƒä»¶

// import ProductForm from '@/components/ProductForm.vue'       // âŒ è¨»è§£
// import AdminForm from '@/components/AdminForm.vue'           // âŒ è¨»è§£

const currentTab = ref('memberOrders')

const tabs = [
  { id: 'memberOrders', label: 'æœƒå“¡èˆ‡è¨‚å–®ç®¡ç†' },
  { id: 'products', label: 'å•†å“åº«å­˜æŸ¥è©¢' }
  // { id: 'addProduct', label: 'å•†å“ä¸Šæ¶' }, // âŒ è¨»è§£
  // { id: 'admins', label: 'æ–°å¢ç®¡ç†å“¡' }    // âŒ è¨»è§£
]

const currentTabComponent = computed(() => {
  switch (currentTab.value) {
    case 'memberOrders': return MemberOrdersTable
    case 'products': return ProductInventory
    // case 'addProduct': return ProductForm
    // case 'admins': return AdminForm
  }
})
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\ProfilePage.vue
================================================================================
<template>
    æœƒå“¡è³‡æ–™é é¢æ–½å·¥ä¸­
</template>

================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\RegisterPage.vue
================================================================================
<template>
  <div class="min-h-screen flex items-center justify-center bg-gray-100">
    <RegisterForm />
  </div>
</template>

<script setup>
import RegisterForm from '@/components/RegisterForm.vue'
</script>


================================================================================
// File: D:\node_practice\vue-project\aroma-shop_0719\src\views\ResetPasswordPage.vue
================================================================================
<template>
  <div class="min-h-screen flex items-center justify-center bg-gray-100">
    <ResetPasswordForm />
  </div>
</template>

<script setup>
import ResetPasswordForm from '@/components/ResetPasswordForm.vue'
</script>


